#!/usr/bin/env bash
set -e

GEM_NAME=$1

if [ -z "$GEM_NAME" ]; then
  echo "Usage: bin/rbs_inline <gem_name>" >&2
  exit 1
fi

GEM_DIR="gems/$GEM_NAME"

if [ ! -d "$GEM_DIR" ]; then
  echo "Error: '$GEM_DIR' directory not found" >&2
  exit 1
fi

cd "$GEM_DIR"
bundle exec rbs-inline --output sig/generated _test/
